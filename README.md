# FReSH to DDI Codebook 2.5 mapping
The repository documents the schema mapping between the [FReSH metadata schema](https://github.com/portail-fresh/fresh-metadata-schema) and the [DDI Codebook 2.5 (DDI-C)](https://ddialliance.org/ddi-codebook) schema.

An XSLT 3.0 implementation of this mapping is provided. This mapping is used to populate the NADA instance of the FReSH catalog with metadata records. Some FReSH schema elements cannot be mapped into the DDI-C schema, hence they are treated as "custom" elements and they are stored into the "addictional" section.

## 1- Technical information

| FReSH path                                                     | EN label                                        | DDI path                                        | IsDDI |
| -------------------------------------------------------------- | ----------------------------------------------- | ----------------------------------------------- | ----- |
| `TechnicalInfo / StudyID / Identifier`                         | Study ID code                                   | `stdyDscr/citation/titlStmt/IDNo`               | o     |
| `TechnicalInfo / StudyID / IDSchema`                           | Study ID source                                 | `stdyDscr/citation/titlStmt/IDNo:agency`        | o     |
| `TechnicalInfo / Provenance`                                   | Provenance                                      |                                                 |       |
| `TechnicalInfo / VersionLang`                                  | Version language                                |                                                 |       |
| `TechnicalInfo / OriginLang`                                   | Original language                               |                                                 |       |
| `TechnicalInfo / CreationDate`                                 | First record date                               |                                                 |       |
| `TechnicalInfo / LastUpdatedAuto`                              | Last automatic update date                      |                                                 |       |
| `TechnicalInfo / LastUpdatedManual`                            | Last manual update date                         |                                                 |       |
| `TechnicalInfo / RespValidation`                               | Completion/validation by the responsible person |                                                 |       |
| `TechnicalInfo / AutoTranslation`                              | Automatic translation                           |                                                 |       |
| `TechnicalInfo / Status`                                       | Status                                          |                                                 |       |
| `TechnicalInfo / OtherStudyID / Identifier`                    | Study ID code                                   | `stdyDscr/citation/titlStmt/IDNo`               | o     |
| `TechnicalInfo / OtherStudyID / IDSchema`                      | Study ID source                                 | `stdyDscr/citation/titlStmt/IDNo:agency`        | o     |
| `TechnicalInfo / MetadataContributor / ContributorName`        | Last name – First name                          | `docDscr/citation/rspStmt/AuthEnty`             | o     |
| `TechnicalInfo / MetadataContributor / ContributorAffiliation` | Affiliation                                     | `docDscr/citation/rspStmt/AuthEnty:affiliation` | o     |

## 2 - Collection context

| FReSH path                                                                                                                           | EN label                                         | DDI path                                                                                      | IsDDI |
| ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------ | --------------------------------------------------------------------------------------------- | ----- |
| `CollectionContext/AdministrativeInformation/General/Title`                                                                          | Title                                            | `stdyDscr/citation/titlStmt/titl`                                                             | o     |
| `CollectionContext/AdministrativeInformation/General/Acronym`                                                                        | Acronym                                          | `stdyDscr/citation/titlStmt/altTitl`                                                          | o     |
| `CollectionContext/AdministrativeInformation/General/ RegulatoryRequirements / ObtainedAuthorization / AuthorizingAgency`            | Competent authority                              | `stdyDscr/studyAuthorization/authorizingAgency`                                               | o     |
| `CollectionContext / AdministrativeInformation / General / RegulatoryRequirements /  ObtainedAuthorization / OtherAuthorizingAgency` | Other (specify)                                  | `_custom`                                                                                     |       |
| `CollectionContext / AdministrativeInformation / General / RegulatoryRequirements / ConformityDeclaration`                           | Declaration of conformity                        | `_custom`                                                                                     |       |
| `CollectionContext / AdministrativeInformation / Contributor / ContributorName`                                                      | Last name – First name                           | `stdyDscr/citation/rspStmt/othId (type="contributor")`                                        | o     |
| `PIDSchema`                                                                                                                          | Person identifier type                           | `../ExtLink:title`                                                                            | o     |
| `URI`                                                                                                                                | Person identifier URI                            | `../ExtLink:URI`                                                                              | o     |
| `OrganisationName`                                                                                                                   | Organisation name                                | `...:affiliation`                                                                             | o     |
| `PIDSchema`                                                                                                                          | Organisation identifier type (ROR, SIRENE, RNSR) | `.../ExtLink:title`                                                                           | o     |
| `URI`                                                                                                                                | Organisation identifier URI                      | `.../ExtLink:URI`                                                                             | o     |
| `FundingAgentName`                                                                                                                   | Funder name                                      | `stdyDscr/citation/prodStmt/fundAg`                                                           | o     |
| `PIDSchema`                                                                                                                          | Funder identifier type                           | `stdyDscr/citation/prodStmt/fundAg/ExtLink:title`                                             | o     |
| `URI`                                                                                                                                | Funder identifier URI                            | `stdyDscr/citation/prodStmt/fundAg/ExtLink:URI`                                               | o     |
| `FundingAgentType`                                                                                                                   | Funder type                                      | `_custom`                                                                                     |       |
| `PIName`                                                                                                                             | PI name                                          | `stdyDscr/citation/rspStmt/AuthEnty`                                                          | o     |
| `ContactName`                                                                                                                        | Contact name                                     | `stdyDscr/citation/distStmt/contact`                                                          | o     |
| `EMail`                                                                                                                              | Email                                            | `stdyDscr/citation/distStmt/contact:email`                                                    | o     |
| `SponsorName`                                                                                                                        | Sponsor name                                     | `stdyDscr/citation/prodStmt/producer (role="sponsor")`                                        | o     |
| `PIDSchema`                                                                                                                          | Sponsor identifier type (ROR, SIRENE, RNSR)      | `stdyDscr/citation/prodStmt/producer/ExtLink:title (role="sponsor")`                          | o     |
| `URL`                                                                                                                                | Sponsor identifier URL                           | `stdyDscr/citation/prodStmt/producer/ExtLink:URI (role="sponsor")`                            | o     |
| `SponsorType`                                                                                                                        | Sponsor type                                     | `_custom`                                                                                     |       |
| `Committee`                                                                                                                          | Scientific or steering committee                 | `_custom`                                                                                     |       |
| `CommitteeDetail`                                                                                                                    | Committee details                                | `stdyDscr/stdyInfo/qualityStatement/standardsCompliance/standard/producer (role="committee")` | o     |
| `OtherGovernance`                                                                                                                    | Other (specify)                                  | `stdyDscr/stdyInfo/qualityStatement/otherQualityStatement`                                    | o     |
| `NetworkConsortium`                                                                                                                  | Networks, consortia                              | `_custom`                                                                                     |       |
| `CollaborationsDetails`                                                                                                              | Details                                          | `stdyDscr/citation/rspStmt/othId (type="collaboration")`                                      | o     |
| `StudyStatus`                                                                                                                        | Study status                                     | `stdyDscr/method/stdyClas`                                                                    | o     |
| `Purpose`                                                                                                                            | Objectives                                       | `stdyDscr/stdyInfo/abstract (attribute contentType=purpose)`                                  | o     |
| `Summary`                                                                                                                            | Summary                                          | `stdyDscr/stdyInfo/abstract (attribute contentType=abstract)`                                 | o     |
| `HealthTheme`                                                                                                                        | Medical field                                    | `stdyDscr/stdyInfo/subject/topcClas (vocab="health theme")`                                   | o     |
| `Pathology`                                                                                                                          | Pathology group                                  | `stdyDscr/stdyInfo/subject/topcClas (vocab="cim-11")`                                         | o     |
| `Keyword`                                                                                                                            | Keywords                                         | `stdyDscr/stdyInfo/subject/keyword`                                                           | o     |
| `HealthDeterminant`                                                                                                                  | Health determinants                              | `stdyDscr/stdyInfo/subject/topcClas (vocab="health determinant")`                             | o     |
| `ComplementaryInformation`                                                                                                           | Additional Study Information                     | `_custom`                                                                                     |       |
| `RareDiseases`                                                                                                                       | Rare diseases                                    | `additional/rareDiseases`                                                                     |       |
